{"ast":null,"code":"import _defineProperty from\"C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Github/CAP Full Stack/Final Project/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Github/CAP Full Stack/Final Project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Github/CAP Full Stack/Final Project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Github/CAP Full Stack/Final Project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Github/CAP Full Stack/Final Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import'./EditPost.css';import{supabase}from'../client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPost=function EditPost(){var _useParams=useParams(),id=_useParams.id;var _useState=useState({name:'',type:'',description:''}),_useState2=_slicedToArray(_useState,2),character=_useState2[0],setCharacter=_useState2[1];var types=[\"SAS\",\"B2B\",\"B2G\",\"D2C\",\"C2C\",\"Nonprofit\",\"Freelancer\",\"Startup\",\"Enterprise\",\"Local Business\",'Freelancer','Venture Backed',\"Product\"];useEffect(function(){var fetchCharacter=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$supabase$from$,data,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return supabase.from('Manure Posts').select().eq('id',id).single();case 2:_yield$supabase$from$=_context.sent;data=_yield$supabase$from$.data;error=_yield$supabase$from$.error;if(error){console.error('Error fetching character:',error);}else{setCharacter(data);}case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchCharacter(){return _ref.apply(this,arguments);};}();fetchCharacter();},[id]);var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setCharacter(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var updateCharacter=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var _yield$supabase$from$2,data,error;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.next=3;return supabase.from('Manure Posts').update({name:character.name,type:character.type,description:character.description}).eq('id',id);case 3:_yield$supabase$from$2=_context2.sent;data=_yield$supabase$from$2.data;error=_yield$supabase$from$2.error;if(error){console.log('Error updating character:',error);}else{console.log('Character updated:',data);window.location=\"/\";}case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function updateCharacter(_x){return _ref2.apply(this,arguments);};}();var deleteCharacter=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var _yield$supabase$from$3,error;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return supabase.from('Manure Posts').delete().eq('id',id);case 2:_yield$supabase$from$3=_context3.sent;error=_yield$supabase$from$3.error;if(error){console.log('Error deleting character:',error);}else{window.location=\"/\";}case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteCharacter(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateCharacter,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:character.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"type\",children:\"Type\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"select\",{id:\"type\",name:\"type\",value:character.type,onChange:handleChange,children:types.map(function(type){return/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type);})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"5\",cols:\"50\",id:\"description\",name:\"description\",value:character.description,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"deleteButton\",onClick:deleteCharacter,children:\"Delete\"})]})});};export default EditPost;","map":{"version":3,"names":["React","useState","useEffect","useParams","supabase","EditPost","id","name","type","description","character","setCharacter","types","fetchCharacter","from","select","eq","single","data","error","console","handleChange","event","target","value","prev","updateCharacter","preventDefault","update","log","window","location","deleteCharacter","delete","map"],"sources":["C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Github/CAP Full Stack/Final Project/client/src/pages/EditPost.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport './EditPost.css';\nimport { supabase } from '../client';\n\nconst EditPost = () => {\n    const { id } = useParams(); \n    const [character, setCharacter] = useState({ name: '', type: '', description: '' });\n\n    const types = [\n        \"SAS\",\n        \"B2B\",\n        \"B2G\",\n        \"D2C\",\n        \"C2C\",\n        \"Nonprofit\",\n        \"Freelancer\",\n        \"Startup\",\n        \"Enterprise\",\n        \"Local Business\",\n        'Freelancer', \n        'Venture Backed',\n        \"Product\"\n    ];\n\n    useEffect(() => {\n        const fetchCharacter = async () => {\n            const { data, error } = await supabase\n                .from('Manure Posts') \n                .select()\n                .eq('id', id)\n                .single();\n            if (error) {\n                console.error('Error fetching character:', error);\n            } else {\n                setCharacter(data);\n            }\n        };\n\n        fetchCharacter();\n    }, [id]);\n\n    const handleChange = (event) => {\n        const { name, value } = event.target;\n        setCharacter(prev => ({\n            ...prev,\n            [name]: value\n        }));\n    };\n\n    const updateCharacter = async (event) => {\n        event.preventDefault();\n        \n        const { data, error } = await supabase\n            .from('Manure Posts')\n            .update({ name: character.name, type: character.type, description: character.description })\n            .eq('id', id);\n        \n        if (error) {\n            console.log('Error updating character:', error);\n        } else {\n            console.log('Character updated:', data);\n            window.location = \"/\"; \n        }\n    };\n\n    const deleteCharacter = async () => {\n        const { error } = await supabase\n            .from('Manure Posts')\n            .delete()\n            .eq('id', id);\n\n        if (error) {\n            console.log('Error deleting character:', error);\n        } else {\n            window.location = \"/\";\n        }\n    };\n\n    return (\n        <div>\n            <form onSubmit={updateCharacter}>\n                <label htmlFor=\"name\">Name</label> <br />\n                <input type=\"text\" id=\"name\" name=\"name\" value={character.name} onChange={handleChange} /><br /><br />\n\n                <label htmlFor=\"type\">Type</label><br />\n                <select id=\"type\" name=\"type\" value={character.type} onChange={handleChange}>\n                    {types.map(type => (\n                        <option key={type} value={type}>{type}</option>\n                    ))}\n                </select><br /><br />\n\n                <label htmlFor=\"description\">Description</label><br />\n                <textarea rows=\"5\" cols=\"50\" id=\"description\" name=\"description\" value={character.description} onChange={handleChange}></textarea><br />\n                \n                <input type=\"submit\" value=\"Submit\" />\n                <button type=\"button\" className=\"deleteButton\" onClick={deleteCharacter}>Delete</button>\n            </form>\n        </div>\n    );\n}\n\nexport default EditPost;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}