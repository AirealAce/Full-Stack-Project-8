{"ast":null,"code":"import React,{useState,useEffect}from'react';import Card from'../components/Card';import{supabase}from'../client';import'./ReadPosts.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ReadPosts=()=>{const[characters,setCharacters]=useState([]);const[sortBy,setSortBy]=useState('created_at');const[searchTitle,setSearchTitle]=useState('');useEffect(()=>{const fetchCharacters=async()=>{let{data:characters,error}=await supabase.from('Manure Posts').select('*').order(sortBy,{ascending:false});if(error){console.error('Error fetching characters:',error);}else{setCharacters(characters);}};fetchCharacters();},[sortBy]);const handleSortChange=e=>{setSortBy(e.target.value);};const handleSearchChange=e=>{setSearchTitle(e.target.value.toLowerCase());};const filteredCharacters=characters.filter(character=>character.name.toLowerCase().includes(searchTitle));return/*#__PURE__*/_jsxs(\"div\",{className:\"ReadPosts\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchBar\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"sortBy\",children:\"Sort By:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"sortBy\",value:sortBy,onChange:handleSortChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"created_at\",children:\"Latest Created\"}),/*#__PURE__*/_jsx(\"option\",{value:\"likes\",children:\"Most Upvotes\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by title\",value:searchTitle,onChange:handleSearchChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cardsContainer\",children:filteredCharacters.length>0?filteredCharacters.map(character=>/*#__PURE__*/_jsx(Card,{id:character.id,title:character.name,created:character.created_at,likes:character.likes},character.id)):/*#__PURE__*/_jsx(\"h2\",{children:\"No Posts Found \\uD83D\\uDE1E\"})})]});};export default ReadPosts;","map":{"version":3,"names":["React","useState","useEffect","Card","supabase","ReadPosts","characters","setCharacters","sortBy","setSortBy","searchTitle","setSearchTitle","fetchCharacters","data","error","from","select","order","ascending","console","handleSortChange","e","target","value","handleSearchChange","toLowerCase","filteredCharacters","filter","character","name","includes","length","map","id","created_at","likes"],"sources":["C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Full-Stack-Project-8/src/pages/ReadPosts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Card from '../components/Card';\r\nimport { supabase } from '../client';\r\nimport './ReadPosts.css'; \r\n\r\nconst ReadPosts = () => {\r\n    const [characters, setCharacters] = useState([]);\r\n    const [sortBy, setSortBy] = useState('created_at'); \r\n    const [searchTitle, setSearchTitle] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchCharacters = async () => {\r\n            let { data: characters, error } = await supabase\r\n                .from('Manure Posts')\r\n                .select('*')\r\n                .order(sortBy, { ascending: false });\r\n\r\n            if (error) {\r\n                console.error('Error fetching characters:', error);\r\n            } else {\r\n                setCharacters(characters);\r\n            }\r\n        };\r\n\r\n        fetchCharacters();\r\n    }, [sortBy]);\r\n\r\n    const handleSortChange = (e) => {\r\n        setSortBy(e.target.value);\r\n    };\r\n\r\n    const handleSearchChange = (e) => {\r\n        setSearchTitle(e.target.value.toLowerCase()); \r\n    };\r\n\r\n    const filteredCharacters = characters.filter(character =>\r\n        character.name.toLowerCase().includes(searchTitle) \r\n    );\r\n\r\n    return (\r\n        <div className=\"ReadPosts\">\r\n            <div className=\"searchBar\">\r\n                <label htmlFor=\"sortBy\">Sort By:</label>\r\n                <select id=\"sortBy\" value={sortBy} onChange={handleSortChange}>\r\n                    <option value=\"created_at\">Latest Created</option>\r\n                    <option value=\"likes\">Most Upvotes</option>\r\n                </select>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search by title\"\r\n                    value={searchTitle}\r\n                    onChange={handleSearchChange}\r\n                />\r\n            </div>\r\n            <div className=\"cardsContainer\">\r\n                {\r\n                    filteredCharacters.length > 0 ?\r\n                        filteredCharacters.map(character => (\r\n                            <Card\r\n                                key={character.id}\r\n                                id={character.id}\r\n                                title={character.name}\r\n                                created={character.created_at}\r\n                                likes={character.likes}\r\n                            />\r\n                        )) : <h2>No Posts Found ðŸ˜ž</h2>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ReadPosts;\r\n"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,KAAP,KAAiB,oBAAjB,CACA,OAASC,QAAT,KAAyB,WAAzB,CACA,MAAO,iBAAP,C,wFAEA,KAAMC,UAAS,CAAG,IAAM,CACpB,KAAM,CAACC,UAAD,CAAaC,aAAb,EAA8BN,QAAQ,CAAC,EAAD,CAA5C,CACA,KAAM,CAACO,MAAD,CAASC,SAAT,EAAsBR,QAAQ,CAAC,YAAD,CAApC,CACA,KAAM,CAACS,WAAD,CAAcC,cAAd,EAAgCV,QAAQ,CAAC,EAAD,CAA9C,CAEAC,SAAS,CAAC,IAAM,CACZ,KAAMU,gBAAe,CAAG,SAAY,CAChC,GAAI,CAAEC,IAAI,CAAEP,UAAR,CAAoBQ,KAApB,EAA8B,KAAMV,SAAQ,CAC3CW,IADmC,CAC9B,cAD8B,EAEnCC,MAFmC,CAE5B,GAF4B,EAGnCC,KAHmC,CAG7BT,MAH6B,CAGrB,CAAEU,SAAS,CAAE,KAAb,CAHqB,CAAxC,CAKA,GAAIJ,KAAJ,CAAW,CACPK,OAAO,CAACL,KAAR,CAAc,4BAAd,CAA4CA,KAA5C,EACH,CAFD,IAEO,CACHP,aAAa,CAACD,UAAD,CAAb,CACH,CACJ,CAXD,CAaAM,eAAe,GAClB,CAfQ,CAeN,CAACJ,MAAD,CAfM,CAAT,CAiBA,KAAMY,iBAAgB,CAAIC,CAAD,EAAO,CAC5BZ,SAAS,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT,CACH,CAFD,CAIA,KAAMC,mBAAkB,CAAIH,CAAD,EAAO,CAC9BV,cAAc,CAACU,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeE,WAAf,EAAD,CAAd,CACH,CAFD,CAIA,KAAMC,mBAAkB,CAAGpB,UAAU,CAACqB,MAAX,CAAkBC,SAAS,EAClDA,SAAS,CAACC,IAAV,CAAeJ,WAAf,GAA6BK,QAA7B,CAAsCpB,WAAtC,CADuB,CAA3B,CAIA,mBACI,aAAK,SAAS,CAAC,WAAf,wBACI,aAAK,SAAS,CAAC,WAAf,wBACI,cAAO,OAAO,CAAC,QAAf,sBADJ,cAEI,gBAAQ,EAAE,CAAC,QAAX,CAAoB,KAAK,CAAEF,MAA3B,CAAmC,QAAQ,CAAEY,gBAA7C,wBACI,eAAQ,KAAK,CAAC,YAAd,4BADJ,cAEI,eAAQ,KAAK,CAAC,OAAd,0BAFJ,GAFJ,cAMI,cACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,iBAFhB,CAGI,KAAK,CAAEV,WAHX,CAII,QAAQ,CAAEc,kBAJd,EANJ,GADJ,cAcI,YAAK,SAAS,CAAC,gBAAf,UAEQE,kBAAkB,CAACK,MAAnB,CAA4B,CAA5B,CACIL,kBAAkB,CAACM,GAAnB,CAAuBJ,SAAS,eAC5B,KAAC,IAAD,EAEI,EAAE,CAAEA,SAAS,CAACK,EAFlB,CAGI,KAAK,CAAEL,SAAS,CAACC,IAHrB,CAII,OAAO,CAAED,SAAS,CAACM,UAJvB,CAKI,KAAK,CAAEN,SAAS,CAACO,KALrB,EACSP,SAAS,CAACK,EADnB,CADJ,CADJ,cASS,mDAXjB,EAdJ,GADJ,CA+BH,CAjED,CAmEA,cAAe5B,UAAf"},"metadata":{},"sourceType":"module"}