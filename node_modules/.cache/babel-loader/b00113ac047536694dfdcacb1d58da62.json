{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aaron\\\\OneDrive\\\\Desktop\\\\Cabinent\\\\Content\\\\Code\\\\Github\\\\CAP Full Stack\\\\Project 7\\\\client\\\\src\\\\pages\\\\EditPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport './EditPost.css';\nimport { supabase } from '../client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditPost = () => {\n  _s();\n\n  const {\n    id\n  } = useParams(); // getting 'id' from the route parameters\n\n  const [character, setCharacter] = useState({\n    name: '',\n    class: '',\n    description: ''\n  }); // Classes array for dropdown\n\n  const classes = [\"Destroyer\", \"Holy Knight\", \"Predator\", \"Shinobi\", \"Archangel\", \"Druid\", \"Warlock\", \"Shinigami\", \"Mechamaster\", \"Artillerist\", \"Phantom\", \"Chronoshifter\"];\n  useEffect(() => {\n    // Fetch the current character details to populate the form for editing\n    const fetchCharacter = async () => {\n      const {\n        data,\n        error\n      } = await supabase.from('Characters').select().eq('id', id).single();\n\n      if (error) {\n        console.error('Error fetching character:', error);\n      } else {\n        setCharacter(data);\n      }\n    };\n\n    fetchCharacter();\n  }, [id]); // Function to handle changes in form inputs\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setCharacter(prev => ({ ...prev,\n      [name]: value\n    }));\n  }; // Function to handle form submission for updating character details\n\n\n  const updateCharacter = async event => {\n    event.preventDefault();\n    const {\n      data,\n      error\n    } = await supabase.from('Characters').update({\n      name: character.name,\n      class: character.class,\n      description: character.description\n    }).eq('id', id);\n\n    if (error) {\n      console.log('Error updating character:', error);\n    } else {\n      console.log('Character updated:', data);\n      window.location = \"/\"; // Redirect to home page after update\n    }\n  }; // Function to handle deleting a character\n\n\n  const deleteCharacter = async () => {\n    const {\n      error\n    } = await supabase.from('Characters').delete().eq('id', id);\n\n    if (error) {\n      console.log('Error deleting character:', error);\n    } else {\n      window.location = \"/\"; // Redirect to home page after deletion\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: updateCharacter,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 52\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        value: character.name,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 107\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 113\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"class\",\n        children: \"Class\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 53\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"class\",\n        name: \"class\",\n        value: character.class,\n        onChange: handleChange,\n        children: classes.map(cls => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: cls,\n          children: cls\n        }, cls, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 65\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        rows: \"5\",\n        cols: \"50\",\n        id: \"description\",\n        name: \"description\",\n        value: character.description,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 147\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"deleteButton\",\n        onClick: deleteCharacter,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EditPost, \"omeErHqmUTL1qKLapBFZMP2dBpY=\", false, function () {\n  return [useParams];\n});\n\n_c = EditPost;\nexport default EditPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditPost\");","map":{"version":3,"names":["React","useState","useEffect","useParams","supabase","EditPost","id","character","setCharacter","name","class","description","classes","fetchCharacter","data","error","from","select","eq","single","console","handleChange","event","value","target","prev","updateCharacter","preventDefault","update","log","window","location","deleteCharacter","delete","map","cls"],"sources":["C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Github/CAP Full Stack/Project 7/client/src/pages/EditPost.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport './EditPost.css';\nimport { supabase } from '../client';\n\nconst EditPost = () => {\n    const { id } = useParams(); // getting 'id' from the route parameters\n    const [character, setCharacter] = useState({ name: '', class: '', description: '' });\n\n    // Classes array for dropdown\n    const classes = [\n        \"Destroyer\", \n        \"Holy Knight\", \n        \"Predator\", \n        \"Shinobi\", \n        \"Archangel\", \n        \"Druid\", \n        \"Warlock\", \n        \"Shinigami\",\n        \"Mechamaster\",\n        \"Artillerist\",\n        \"Phantom\",\n        \"Chronoshifter\",\n    ];\n    useEffect(() => {\n        // Fetch the current character details to populate the form for editing\n        const fetchCharacter = async () => {\n            const { data, error } = await supabase\n                .from('Characters')\n                .select()\n                .eq('id', id)\n                .single();\n            if (error) {\n                console.error('Error fetching character:', error);\n            } else {\n                setCharacter(data);\n            }\n        };\n\n        fetchCharacter();\n    }, [id]);\n\n    // Function to handle changes in form inputs\n    const handleChange = (event) => {\n        const { name, value } = event.target;\n        setCharacter(prev => ({\n            ...prev,\n            [name]: value\n        }));\n    };\n\n    // Function to handle form submission for updating character details\n    const updateCharacter = async (event) => {\n        event.preventDefault();\n        \n        const { data, error } = await supabase\n            .from('Characters')\n            .update({ name: character.name, class: character.class, description: character.description })\n            .eq('id', id);\n        \n        if (error) {\n            console.log('Error updating character:', error);\n        } else {\n            console.log('Character updated:', data);\n            window.location = \"/\"; // Redirect to home page after update\n        }\n    };\n\n    // Function to handle deleting a character\n    const deleteCharacter = async () => {\n        const { error } = await supabase\n            .from('Characters')\n            .delete()\n            .eq('id', id);\n\n        if (error) {\n            console.log('Error deleting character:', error);\n        } else {\n            window.location = \"/\"; // Redirect to home page after deletion\n        }\n    };\n\n    return (\n        <div>\n            <form onSubmit={updateCharacter}>\n                <label htmlFor=\"name\">Name</label> <br />\n                <input type=\"text\" id=\"name\" name=\"name\" value={character.name} onChange={handleChange} /><br /><br />\n\n                <label htmlFor=\"class\">Class</label><br />\n                <select id=\"class\" name=\"class\" value={character.class} onChange={handleChange}>\n                    {classes.map(cls => (\n                        <option key={cls} value={cls}>{cls}</option>\n                    ))}\n                </select><br /><br />\n\n                <label htmlFor=\"description\">Description</label><br />\n                <textarea rows=\"5\" cols=\"50\" id=\"description\" name=\"description\" value={character.description} onChange={handleChange}></textarea><br />\n                \n                <input type=\"submit\" value=\"Submit\" />\n                <button className=\"deleteButton\" onClick={deleteCharacter}>Delete</button>\n            </form>\n        </div>\n    );\n}\n\nexport default EditPost;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}