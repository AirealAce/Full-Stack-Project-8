{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aaron\\\\OneDrive\\\\Desktop\\\\Cabinent\\\\Content\\\\Code\\\\Github\\\\CAP Full Stack\\\\Final Project\\\\client\\\\src\\\\pages\\\\EditPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom'; // Import useHistory\n\nimport './EditPost.css';\nimport { supabase } from '../client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditPost = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const history = useHistory(); // Initialize useHistory\n\n  const [character, setCharacter] = useState({\n    name: '',\n    type: '',\n    description: ''\n  });\n  const types = [\"B2B\", \"B2C\", \"C2C\", \"B2G\", \"Nonprofit\", \"Freelancer\", \"Startup\", \"Enterprise\", \"Local Business\"];\n  useEffect(() => {\n    const fetchCharacter = async () => {\n      const {\n        data,\n        error\n      } = await supabase.from('Manure Posts').select().eq('id', id).single();\n\n      if (error) {\n        console.error('Error fetching character:', error);\n      } else {\n        setCharacter(data);\n      }\n    };\n\n    fetchCharacter();\n  }, [id]);\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setCharacter(prev => ({ ...prev,\n      [name]: value\n    }));\n  };\n\n  const updateCharacter = async event => {\n    event.preventDefault();\n    const {\n      data,\n      error\n    } = await supabase.from('Manure Posts').update({\n      name: character.name,\n      type: character.type,\n      description: character.description\n    }).eq('id', id);\n\n    if (error) {\n      console.log('Error updating character:', error);\n    } else {\n      console.log('Character updated:', data);\n      history.push('/'); // Redirect using history\n    }\n  };\n\n  const deleteCharacter = async () => {\n    const {\n      error\n    } = await supabase.from('Manure Posts').delete().eq('id', id);\n\n    if (error) {\n      console.log('Error deleting character:', error);\n    } else {\n      history.push('/'); // Redirect using history\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: updateCharacter,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 52\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        value: character.name,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 107\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 113\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"type\",\n        children: \"Type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 51\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"type\",\n        name: \"type\",\n        value: character.type,\n        onChange: handleChange,\n        children: types.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: type,\n          children: type\n        }, type, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 65\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        rows: \"5\",\n        cols: \"50\",\n        id: \"description\",\n        name: \"description\",\n        value: character.description,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 147\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"deleteButton\",\n        onClick: deleteCharacter,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EditPost, \"RJ80VdJBIEjCFQOvQnDYsOukyJw=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = EditPost;\nexport default EditPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditPost\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useHistory","supabase","EditPost","id","history","character","setCharacter","name","type","description","types","fetchCharacter","data","error","from","select","eq","single","console","handleChange","event","value","target","prev","updateCharacter","preventDefault","update","log","push","deleteCharacter","delete","map"],"sources":["C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Github/CAP Full Stack/Final Project/client/src/pages/EditPost.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom'; // Import useHistory\nimport './EditPost.css';\nimport { supabase } from '../client';\n\nconst EditPost = () => {\n    const { id } = useParams(); \n    const history = useHistory(); // Initialize useHistory\n    const [character, setCharacter] = useState({ name: '', type: '', description: '' });\n\n    const types = [\n        \"B2B\",\n        \"B2C\",\n        \"C2C\",\n        \"B2G\",\n        \"Nonprofit\",\n        \"Freelancer\",\n        \"Startup\",\n        \"Enterprise\",\n        \"Local Business\"\n    ];\n\n    useEffect(() => {\n        const fetchCharacter = async () => {\n            const { data, error } = await supabase\n                .from('Manure Posts')\n                .select()\n                .eq('id', id)\n                .single();\n            if (error) {\n                console.error('Error fetching character:', error);\n            } else {\n                setCharacter(data);\n            }\n        };\n\n        fetchCharacter();\n    }, [id]);\n\n    const handleChange = (event) => {\n        const { name, value } = event.target;\n        setCharacter(prev => ({\n            ...prev,\n            [name]: value\n        }));\n    };\n\n    const updateCharacter = async (event) => {\n        event.preventDefault();\n        \n        const { data, error } = await supabase\n            .from('Manure Posts')\n            .update({ name: character.name, type: character.type, description: character.description })\n            .eq('id', id);\n        \n        if (error) {\n            console.log('Error updating character:', error);\n        } else {\n            console.log('Character updated:', data);\n            history.push('/'); // Redirect using history\n        }\n    };\n\n    const deleteCharacter = async () => {\n        const { error } = await supabase\n            .from('Manure Posts')\n            .delete()\n            .eq('id', id);\n\n        if (error) {\n            console.log('Error deleting character:', error);\n        } else {\n            history.push('/'); // Redirect using history\n        }\n    };\n\n    return (\n        <div>\n            <form onSubmit={updateCharacter}>\n                <label htmlFor=\"name\">Name</label> <br />\n                <input type=\"text\" id=\"name\" name=\"name\" value={character.name} onChange={handleChange} /><br /><br />\n\n                <label htmlFor=\"type\">Type</label><br />\n                <select id=\"type\" name=\"type\" value={character.type} onChange={handleChange}>\n                    {types.map(type => (\n                        <option key={type} value={type}>{type}</option>\n                    ))}\n                </select><br /><br />\n\n                <label htmlFor=\"description\">Description</label><br />\n                <textarea rows=\"5\" cols=\"50\" id=\"description\" name=\"description\" value={character.description} onChange={handleChange}></textarea><br />\n                \n                <input type=\"submit\" value=\"Submit\" />\n                <button type=\"button\" className=\"deleteButton\" onClick={deleteCharacter}>Delete</button>\n            </form>\n        </div>\n    );\n}\n\nexport default EditPost;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}