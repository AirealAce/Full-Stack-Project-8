{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import'./EditPost.css';import{supabase}from'../client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const EditPost=()=>{const{id}=useParams();const[character,setCharacter]=useState({name:'',type:'',description:''});const types=[\"SAS\",\"B2B\",\"B2G\",\"D2C\",\"C2C\",\"Nonprofit\",\"Freelancer\",\"Startup\",\"Enterprise\",\"Local Business\",'Freelancer','Venture Backed',\"Product\"];useEffect(()=>{const fetchCharacter=async()=>{const{data,error}=await supabase.from('Manure Posts').select().eq('id',id).single();if(error){console.error('Error fetching character:',error);}else{setCharacter(data);}};fetchCharacter();},[id]);const handleChange=event=>{const{name,value}=event.target;setCharacter(prev=>({...prev,[name]:value}));};const updateCharacter=async event=>{event.preventDefault();const{data,error}=await supabase.from('Manure Posts').update({name:character.name,type:character.type,description:character.description}).eq('id',id);if(error){console.log('Error updating character:',error);}else{console.log('Character updated:',data);window.location=\"/\";}};const deleteCharacter=async()=>{const{error}=await supabase.from('Manure Posts').delete().eq('id',id);if(error){console.log('Error deleting character:',error);}else{window.location=\"/\";}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateCharacter,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:character.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"type\",children:\"Type\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"select\",{id:\"type\",name:\"type\",value:character.type,onChange:handleChange,children:types.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"5\",cols:\"50\",id:\"description\",name:\"description\",value:character.description,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"deleteButton\",onClick:deleteCharacter,children:\"Delete\"})]})});};export default EditPost;","map":{"version":3,"names":["React","useState","useEffect","useParams","supabase","EditPost","id","character","setCharacter","name","type","description","types","fetchCharacter","data","error","from","select","eq","single","console","handleChange","event","value","target","prev","updateCharacter","preventDefault","update","log","window","location","deleteCharacter","delete","map"],"sources":["C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Full-Stack-Project-8/src/pages/EditPost.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport './EditPost.css';\r\nimport { supabase } from '../client';\r\n\r\nconst EditPost = () => {\r\n    const { id } = useParams(); \r\n    const [character, setCharacter] = useState({ name: '', type: '', description: '' });\r\n\r\n    const types = [\r\n        \"SAS\",\r\n        \"B2B\",\r\n        \"B2G\",\r\n        \"D2C\",\r\n        \"C2C\",\r\n        \"Nonprofit\",\r\n        \"Freelancer\",\r\n        \"Startup\",\r\n        \"Enterprise\",\r\n        \"Local Business\",\r\n        'Freelancer', \r\n        'Venture Backed',\r\n        \"Product\"\r\n    ];\r\n\r\n    useEffect(() => {\r\n        const fetchCharacter = async () => {\r\n            const { data, error } = await supabase\r\n                .from('Manure Posts') \r\n                .select()\r\n                .eq('id', id)\r\n                .single();\r\n            if (error) {\r\n                console.error('Error fetching character:', error);\r\n            } else {\r\n                setCharacter(data);\r\n            }\r\n        };\r\n\r\n        fetchCharacter();\r\n    }, [id]);\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setCharacter(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    const updateCharacter = async (event) => {\r\n        event.preventDefault();\r\n        \r\n        const { data, error } = await supabase\r\n            .from('Manure Posts')\r\n            .update({ name: character.name, type: character.type, description: character.description })\r\n            .eq('id', id);\r\n        \r\n        if (error) {\r\n            console.log('Error updating character:', error);\r\n        } else {\r\n            console.log('Character updated:', data);\r\n            window.location = \"/\"; \r\n        }\r\n    };\r\n\r\n    const deleteCharacter = async () => {\r\n        const { error } = await supabase\r\n            .from('Manure Posts')\r\n            .delete()\r\n            .eq('id', id);\r\n\r\n        if (error) {\r\n            console.log('Error deleting character:', error);\r\n        } else {\r\n            window.location = \"/\";\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={updateCharacter}>\r\n                <label htmlFor=\"name\">Name</label> <br />\r\n                <input type=\"text\" id=\"name\" name=\"name\" value={character.name} onChange={handleChange} /><br /><br />\r\n\r\n                <label htmlFor=\"type\">Type</label><br />\r\n                <select id=\"type\" name=\"type\" value={character.type} onChange={handleChange}>\r\n                    {types.map(type => (\r\n                        <option key={type} value={type}>{type}</option>\r\n                    ))}\r\n                </select><br /><br />\r\n\r\n                <label htmlFor=\"description\">Description</label><br />\r\n                <textarea rows=\"5\" cols=\"50\" id=\"description\" name=\"description\" value={character.description} onChange={handleChange}></textarea><br />\r\n                \r\n                <input type=\"submit\" value=\"Submit\" />\r\n                <button type=\"button\" className=\"deleteButton\" onClick={deleteCharacter}>Delete</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditPost;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}