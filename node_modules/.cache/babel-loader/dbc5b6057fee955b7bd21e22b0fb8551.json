{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';import{supabase}from'../client';import'./Card.css';import more from'./more.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Card=_ref=>{let{id,title,created,likes}=_ref;const[count,setCount]=useState(likes);const updateCount=async()=>{const newCount=count+1;setCount(newCount);try{const{error}=await supabase.from('Manure Posts').update({likes:newCount}).eq('id',id);if(error){console.error('Error updating likes:',error);setCount(count);}}catch(error){console.error('Error updating likes:',error.message);setCount(count);}};const formattedDate=new Date(created).toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'});return/*#__PURE__*/_jsxs(\"div\",{className:\"Card\",children:[/*#__PURE__*/_jsxs(Link,{to:`/details/${id}`,className:\"card-link\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Card-Header\",children:/*#__PURE__*/_jsx(Link,{to:`/edit/${id}`,className:\"edit-link\",children:/*#__PURE__*/_jsx(\"img\",{className:\"moreButton\",alt:\"edit button\",src:more})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Card-Content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"created\",children:/*#__PURE__*/_jsx(Link,{to:`/details/${id}`,className:\"date-link\",style:{textDecoration:'none',color:'inherit'},children:formattedDate})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Card-Footer\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"like\",onClick:updateCount,children:[\"\\uD83D\\uDEBD \",count]})})]});};export default Card;","map":{"version":3,"names":["React","useState","Link","supabase","more","Card","id","title","created","likes","count","setCount","updateCount","newCount","error","from","update","eq","console","message","formattedDate","Date","toLocaleDateString","year","month","day","textDecoration","color"],"sources":["C:/Users/aaron/OneDrive/Desktop/Cabinent/Content/Code/Full-Stack-Project-8/src/components/Card.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { supabase } from '../client';\r\nimport './Card.css';\r\nimport more from './more.png';\r\n\r\nconst Card = ({ id, title, created, likes }) => {\r\n    const [count, setCount] = useState(likes);\r\n\r\n    const updateCount = async () => {\r\n        const newCount = count + 1;\r\n        setCount(newCount);\r\n\r\n        try {\r\n            const { error } = await supabase\r\n                .from('Manure Posts')\r\n                .update({ likes: newCount })\r\n                .eq('id', id);\r\n\r\n            if (error) {\r\n                console.error('Error updating likes:', error);\r\n                setCount(count); \r\n            }\r\n        } catch (error) {\r\n            console.error('Error updating likes:', error.message);\r\n            setCount(count); \r\n        }\r\n    };\r\n\r\n    const formattedDate = new Date(created).toLocaleDateString('en-US', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n    });\r\n\r\n    return (\r\n        <div className=\"Card\">\r\n            <Link to={`/details/${id}`} className=\"card-link\">\r\n                <div className=\"Card-Header\">\r\n                    <Link to={`/edit/${id}`} className=\"edit-link\">\r\n                        <img className=\"moreButton\" alt=\"edit button\" src={more} />\r\n                    </Link>\r\n                </div>\r\n                <div className=\"Card-Content\">\r\n                    <h2 className=\"title\">{title}</h2>\r\n                    <p className=\"created\">\r\n                        <Link to={`/details/${id}`} className=\"date-link\" style={{ textDecoration: 'none', color: 'inherit' }}>\r\n                            {formattedDate}\r\n                        </Link>\r\n                    </p>\r\n                </div>\r\n            </Link>\r\n            <div className=\"Card-Footer\">\r\n                <button className=\"like\" onClick={updateCount}>ðŸš½ {count}</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Card;\r\n"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,QAAT,KAAyB,WAAzB,CACA,MAAO,YAAP,CACA,MAAOC,KAAP,KAAiB,YAAjB,C,wFAEA,KAAMC,KAAI,CAAG,MAAmC,IAAlC,CAAEC,EAAF,CAAMC,KAAN,CAAaC,OAAb,CAAsBC,KAAtB,CAAkC,MAC5C,KAAM,CAACC,KAAD,CAAQC,QAAR,EAAoBV,QAAQ,CAACQ,KAAD,CAAlC,CAEA,KAAMG,YAAW,CAAG,SAAY,CAC5B,KAAMC,SAAQ,CAAGH,KAAK,CAAG,CAAzB,CACAC,QAAQ,CAACE,QAAD,CAAR,CAEA,GAAI,CACA,KAAM,CAAEC,KAAF,EAAY,KAAMX,SAAQ,CAC3BY,IADmB,CACd,cADc,EAEnBC,MAFmB,CAEZ,CAAEP,KAAK,CAAEI,QAAT,CAFY,EAGnBI,EAHmB,CAGhB,IAHgB,CAGVX,EAHU,CAAxB,CAKA,GAAIQ,KAAJ,CAAW,CACPI,OAAO,CAACJ,KAAR,CAAc,uBAAd,CAAuCA,KAAvC,EACAH,QAAQ,CAACD,KAAD,CAAR,CACH,CACJ,CAAC,MAAOI,KAAP,CAAc,CACZI,OAAO,CAACJ,KAAR,CAAc,uBAAd,CAAuCA,KAAK,CAACK,OAA7C,EACAR,QAAQ,CAACD,KAAD,CAAR,CACH,CACJ,CAlBD,CAoBA,KAAMU,cAAa,CAAG,GAAIC,KAAJ,CAASb,OAAT,EAAkBc,kBAAlB,CAAqC,OAArC,CAA8C,CAChEC,IAAI,CAAE,SAD0D,CAEhEC,KAAK,CAAE,MAFyD,CAGhEC,GAAG,CAAE,SAH2D,CAA9C,CAAtB,CAMA,mBACI,aAAK,SAAS,CAAC,MAAf,wBACI,MAAC,IAAD,EAAM,EAAE,CAAG,YAAWnB,EAAG,EAAzB,CAA4B,SAAS,CAAC,WAAtC,wBACI,YAAK,SAAS,CAAC,aAAf,uBACI,KAAC,IAAD,EAAM,EAAE,CAAG,SAAQA,EAAG,EAAtB,CAAyB,SAAS,CAAC,WAAnC,uBACI,YAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAC,aAAhC,CAA8C,GAAG,CAAEF,IAAnD,EADJ,EADJ,EADJ,cAMI,aAAK,SAAS,CAAC,cAAf,wBACI,WAAI,SAAS,CAAC,OAAd,UAAuBG,KAAvB,EADJ,cAEI,UAAG,SAAS,CAAC,SAAb,uBACI,KAAC,IAAD,EAAM,EAAE,CAAG,YAAWD,EAAG,EAAzB,CAA4B,SAAS,CAAC,WAAtC,CAAkD,KAAK,CAAE,CAAEoB,cAAc,CAAE,MAAlB,CAA0BC,KAAK,CAAE,SAAjC,CAAzD,UACKP,aADL,EADJ,EAFJ,GANJ,GADJ,cAgBI,YAAK,SAAS,CAAC,aAAf,uBACI,gBAAQ,SAAS,CAAC,MAAlB,CAAyB,OAAO,CAAER,WAAlC,2BAAmDF,KAAnD,GADJ,EAhBJ,GADJ,CAsBH,CAnDD,CAqDA,cAAeL,KAAf"},"metadata":{},"sourceType":"module"}